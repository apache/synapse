<?xml version="1.0" encoding="ISO-8859-1" ?>
<!--
  ~  Licensed to the Apache Software Foundation (ASF) under one
  ~  or more contributor license agreements.  See the NOTICE file
  ~  distributed with this work for additional information
  ~  regarding copyright ownership.  The ASF licenses this file
  ~  to you under the Apache License, Version 2.0 (the
  ~  "License"); you may not use this file except in compliance
  ~  with the License.  You may obtain a copy of the License at
  ~
  ~   http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing,
  ~  software distributed under the License is distributed on an
  ~   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~  KIND, either express or implied.  See the License for the
  ~  specific language governing permissions and limitations
  ~  under the License.
  -->
<document>
    <properties>
        <title>Upgrade guide</title>
    </properties>
    <body>
        <section name="Upgrading from 1.2 to 1.3">
            <p>Release 1.3 has enhanced capabilities for extension deployment. While in 1.2 extension
            deployment was limited to mediators bundled as simple JAR files, 1.3 extended this support
            to startups and defined a new archive format (XAR) that allows to bundle these extensions
            together with their dependency JARs (see
            <a href="http://issues.apache.org/jira/browse/SYNAPSE-377">SYNAPSE-377</a> for more details).
            Enabling these features requires changes to the <tt>axis2.xml</tt> configuration file.
            In 1.2 the deployer was configured as follows:
            </p>
<pre>
&lt;deployer extension="jar" directory="mediators" class="org.apache.synapse.core.axis2.MediatorDeployer"/>
</pre>
            <p>In 1.3 the suggested configuration is:</p>
<pre>
&lt;deployer extension="xar" directory="extensions" class="org.apache.synapse.core.axis2.ExtensionDeployer"/>
</pre>
            <p>Note that the XAR format is compatible with simple JAR files and that the
            <code>MediatorDeployer</code> class still exists in 1.3. Therefore the old configuration will
            still work. However you are strongly advised to replace references to the <code>MediatorDeployer</code>
            class as it will disappear in later releases.</p>
            <p>It is possible to have multiple configuration entries for the extension deployer with different
            settings. For example, if you used the deployer in 1.2 you might want to have the following
            configuration:</p>
<pre>
&lt;deployer extension="jar" directory="mediators" class="org.apache.synapse.core.axis2.ExtensionDeployer"/>
&lt;deployer extension="xar" directory="extensions" class="org.apache.synapse.core.axis2.ExtensionDeployer"/>
</pre>
        </section>
    </body>
</document>